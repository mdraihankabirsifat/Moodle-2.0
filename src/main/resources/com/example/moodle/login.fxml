<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.moodle.controller.LoginController">

    <top>
        <HBox spacing="15" alignment="CENTER_LEFT" style="-fx-padding: 15;">
            <Button text="⌂ Home" styleClass="nav-btn" onAction="#goHome"/>
            <Button text="My Campus" styleClass="nav-btn" onAction="#goToCampus"/>
        </HBox>
    </top>

    <center>
        <VBox spacing="15" alignment="CENTER" maxWidth="400">

            <Label text="Portal Login" styleClass="title-label"/>

            <!-- Role selection -->
            <fx:define>
                <ToggleGroup fx:id="loginRoleGroup"/>
            </fx:define>
            <HBox spacing="25" alignment="CENTER" style="-fx-padding: 5 0 5 0;">
                <RadioButton fx:id="studentLoginRadio" text="Student" toggleGroup="$loginRoleGroup" selected="true"/>
                <RadioButton fx:id="teacherLoginRadio" text="Teacher" toggleGroup="$loginRoleGroup"/>
            </HBox>

            <!-- Student login fields -->
            <VBox fx:id="studentLoginFields" spacing="10">
                <TextField fx:id="emailField" promptText="Email"/>
                <PasswordField fx:id="passwordField" promptText="Password"/>
            </VBox>

            <!-- Teacher login fields -->
            <VBox fx:id="teacherLoginFields" spacing="10" visible="false" managed="false">
                <TextField fx:id="teacherNameField" promptText="Full Name"/>
                <TextField fx:id="teacherDeptField" promptText="Department (e.g. CSE, EEE)"/>
                <TextField fx:id="teacherDesignationField" promptText="Designation (e.g. Professor)"/>
                <HBox spacing="20" alignment="CENTER_LEFT">
                    <fx:define>
                        <ToggleGroup fx:id="teacherTypeGroup"/>
                    </fx:define>
                    <RadioButton fx:id="facultyRadio" text="Faculty Teacher"
                                 toggleGroup="$teacherTypeGroup" selected="true"/>
                    <RadioButton fx:id="guestRadio" text="Guest Teacher"
                                 toggleGroup="$teacherTypeGroup"/>
                </HBox>
                <PasswordField fx:id="teacherPasswordField" promptText="Password"/>
                <Label text="Default password: teacher2026" style="-fx-text-fill: #888; -fx-font-size: 11px;"/>
            </VBox>

            <Button text="Login" onAction="#handleLogin"/>

            <Label fx:id="messageLabel"/>

        </VBox>
    </center>

    <!-- ================= BOTTOM NAV ================= -->
    <bottom>
        <HBox alignment="CENTER_RIGHT" style="-fx-padding: 15;">
            <Button text="← Back" styleClass="nav-btn" onAction="#goBack"/>
        </HBox>
    </bottom>

</BorderPane>